



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for Mottainai">
      
      
        <link rel="canonical" href="https://mottainaici.github.io/docs/usage/cli/">
      
      
        <meta name="author" content="Mottainai">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.1">
    
    
      
        <title>Cli - Mottainai docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.3020aac5.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#00bcd4">
      
    
    
      <script src="../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="cyan" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#command-line-interface" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://mottainaici.github.io/docs/" title="Mottainai docs" class="md-header-nav__button md-logo">
          
            <img src="../../images/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Mottainai docs
            </span>
            <span class="md-header-nav__topic">
              Cli
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/MottainaiCI/mottainai-server/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    MottainaiCI/mottainai-server
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://mottainaici.github.io/docs/" title="Mottainai docs" class="md-nav__button md-logo">
      
        <img src="../../images/logo.png" width="48" height="48">
      
    </a>
    Mottainai docs
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/MottainaiCI/mottainai-server/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    MottainaiCI/mottainai-server
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../general/" title="How it works" class="md-nav__link">
      How it works
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../setup/" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Usage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Cli
      </label>
    
    <a href="./" title="Cli" class="md-nav__link md-nav__link--active">
      Cli
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#authentication" title="Authentication" class="md-nav__link">
    Authentication
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tasks" title="Tasks" class="md-nav__link">
    Tasks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create" title="Create" class="md-nav__link">
    Create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attach" title="Attach" class="md-nav__link">
    Attach
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stop" title="Stop" class="md-nav__link">
    Stop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove" title="Remove" class="md-nav__link">
    Remove
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitor" title="Monitor" class="md-nav__link">
    Monitor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log" title="Log" class="md-nav__link">
    Log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#download" title="Download" class="md-nav__link">
    Download
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list" title="List" class="md-nav__link">
    List
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clone" title="Clone" class="md-nav__link">
    Clone
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiles" title="Profiles" class="md-nav__link">
    Profiles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#namespace" title="Namespace" class="md-nav__link">
    Namespace
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_1" title="Create" class="md-nav__link">
    Create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#download_1" title="Download" class="md-nav__link">
    Download
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload" title="Upload" class="md-nav__link">
    Upload
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete" title="Delete" class="md-nav__link">
    Delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list_1" title="List" class="md-nav__link">
    List
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clone_1" title="Clone" class="md-nav__link">
    Clone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tag" title="Tag" class="md-nav__link">
    Tag
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage" title="Storage" class="md-nav__link">
    Storage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_2" title="Create" class="md-nav__link">
    Create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#download_2" title="Download" class="md-nav__link">
    Download
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload_1" title="Upload" class="md-nav__link">
    Upload
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_1" title="Delete" class="md-nav__link">
    Delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list_2" title="List" class="md-nav__link">
    List
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tasksandpipelines/" title="Tasks and Pipelines" class="md-nav__link">
      Tasks and Pipelines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../plans/" title="Plans" class="md-nav__link">
      Plans
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../artefacts/" title="Artefacts" class="md-nav__link">
      Artefacts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../namespace/" title="Namespaces" class="md-nav__link">
      Namespaces
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../storage/" title="Storages" class="md-nav__link">
      Storages
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#authentication" title="Authentication" class="md-nav__link">
    Authentication
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tasks" title="Tasks" class="md-nav__link">
    Tasks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create" title="Create" class="md-nav__link">
    Create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attach" title="Attach" class="md-nav__link">
    Attach
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stop" title="Stop" class="md-nav__link">
    Stop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove" title="Remove" class="md-nav__link">
    Remove
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitor" title="Monitor" class="md-nav__link">
    Monitor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log" title="Log" class="md-nav__link">
    Log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#download" title="Download" class="md-nav__link">
    Download
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list" title="List" class="md-nav__link">
    List
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clone" title="Clone" class="md-nav__link">
    Clone
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiles" title="Profiles" class="md-nav__link">
    Profiles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#namespace" title="Namespace" class="md-nav__link">
    Namespace
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_1" title="Create" class="md-nav__link">
    Create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#download_1" title="Download" class="md-nav__link">
    Download
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload" title="Upload" class="md-nav__link">
    Upload
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete" title="Delete" class="md-nav__link">
    Delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list_1" title="List" class="md-nav__link">
    List
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clone_1" title="Clone" class="md-nav__link">
    Clone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tag" title="Tag" class="md-nav__link">
    Tag
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage" title="Storage" class="md-nav__link">
    Storage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_2" title="Create" class="md-nav__link">
    Create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#download_2" title="Download" class="md-nav__link">
    Download
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload_1" title="Upload" class="md-nav__link">
    Upload
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_1" title="Delete" class="md-nav__link">
    Delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list_2" title="List" class="md-nav__link">
    List
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/MottainaiCI/mottainai-server/edit/master/docs/usage/cli.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="command-line-interface">Command Line Interface<a class="headerlink" href="#command-line-interface" title="Permanent link">&para;</a></h1>
<p>You can use the command line interface to create, track and manage your cluster.</p>
<div class="codehilite"><pre><span></span>Mottainai CLI
Copyright (c) 2017-2018 Mottainai

Command line interface for Mottainai clusters

Usage:
   [flags]
   [command]

Examples:
$&gt; mottainai-cli -m http://127.0.0.1:8080 task create --json task.json

$&gt; mottainai-cli -m http://127.0.0.1:8080 namespace list


Available Commands:
  help        Help about any command
  namespace   Manage namespaces
  node        Manage nodes
  pipeline    Manage Pipeline of Task
  plan        Manage Planning of Task
  profile     Manage CLI Profiles
  setting     Manage Infrastructure settings
  simulate    Simulate Agent Command
  storage     Manage storages
  task        Manage tasks
  token       Manage tokens
  user        Manage users

Flags:
  -k, --apikey string    Mottainai API key (default &quot;fb4h3bhgv4421355&quot;)
  -h, --help             help for this command
  -m, --master string    MottainaiCI webUI URL (default &quot;http://localhost:8080&quot;)
  -p, --profile string   Use specific profile for call API.

Use &quot; [command] --help&quot; for more information about a command.
</pre></div>


<h2 id="authentication">Authentication<a class="headerlink" href="#authentication" title="Permanent link">&para;</a></h2>
<p><strong>Note:</strong> The CLI options <strong>--master</strong> and <strong>--apikey</strong> are required for every command issued to the CLI, see <a href="./#profiles">how to set CLI profiles to store credentials in your machine</a> to avoid typing them each time.
In the following commands will be omitted for sake of readability, but they are required.</p>
<h2 id="tasks">Tasks<a class="headerlink" href="#tasks" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>Manage tasks

Usage:
   task [command]

Available Commands:
  artefacts   Show artefacts of a task
  attach      attach to a task output
  clone       clone a task
  create      Create a new task
  download    Download task artefacts
  execute     execute task
  list        List tasks
  log         Show log of a task
  monitor     Monitor tasks and propagate exit status
  remove      Remove a task
  show        Show a task
  start       Start a task
  stop        Stop a task

Flags:
  -h, --help   help for task

Global Flags:
  -k, --apikey string    Mottainai API key (default &quot;fb4h3bhgv4421355&quot;)
  -m, --master string    MottainaiCI webUI URL (default &quot;http://localhost:8080&quot;)
  -p, --profile string   Use specific profile for call API.

Use &quot; task [command] --help&quot; for more information about a command.
</pre></div>


<h3 id="create">Create<a class="headerlink" href="#create" title="Permanent link">&para;</a></h3>
<p>After <a href="../tasksandpipelines/">defining a task</a> inside a yaml or json file you can use the CLI to create tasks and pipelines to be executed remotely
by the nodes belonging to your cluster.</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli task create --yaml file.yaml
</pre></div>


<h3 id="attach">Attach<a class="headerlink" href="#attach" title="Permanent link">&para;</a></h3>
<p>Once the task is created, the CLI will return an ID and instructions on how to interact with it.
If you want to see the logs of a running task and see updates, run:</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli task attach #taskid
</pre></div>


<h3 id="stop">Stop<a class="headerlink" href="#stop" title="Permanent link">&para;</a></h3>
<p>To stop a running task:</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli task stop #taskid
</pre></div>


<h3 id="remove">Remove<a class="headerlink" href="#remove" title="Permanent link">&para;</a></h3>
<p>To remove a task, and its associated artefacts:</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli task remove #taskid
</pre></div>


<h3 id="monitor">Monitor<a class="headerlink" href="#monitor" title="Permanent link">&para;</a></h3>
<p>Wait for tasks to complete, and propagate error to the console :</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli task monitor #taskid #taskid2 #taskid3 ...
</pre></div>


<h3 id="log">Log<a class="headerlink" href="#log" title="Permanent link">&para;</a></h3>
<p>Get task current log:</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli task log #taskid
</pre></div>


<h3 id="download">Download<a class="headerlink" href="#download" title="Permanent link">&para;</a></h3>
<p>You can download a task artefacts with the CLI:</p>
<div class="codehilite"><pre><span></span>mottainai-cli task download #taskid /my/download/folder
</pre></div>


<h3 id="list">List<a class="headerlink" href="#list" title="Permanent link">&para;</a></h3>
<p>List all tasks:</p>
<div class="codehilite"><pre><span></span>mottainai-cli task list
</pre></div>


<h3 id="clone">Clone<a class="headerlink" href="#clone" title="Permanent link">&para;</a></h3>
<p>Generate a new task from an old one:</p>
<div class="codehilite"><pre><span></span>mottainai-cli task clone #taskid
</pre></div>


<h2 id="profiles">Profiles<a class="headerlink" href="#profiles" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>Manage CLI Profiles

Usage:
   profile [command]

Available Commands:
  create      Create a new profile
  list        List profiles
  remove      Remove a profile

Flags:
  -h, --help   help for profile

Global Flags:
  -k, --apikey string    Mottainai API key (default &quot;fb4h3bhgv4421355&quot;)
  -m, --master string    MottainaiCI webUI URL (default &quot;http://localhost:8080&quot;)
  -p, --profile string   Use specific profile for call API.

Use &quot; profile [command] --help&quot; for more information about a command.
</pre></div>


<p>Profiles can be used to store permanently options that CLI uses to connect and authenticate to the Mottainai Server.</p>
<p>To create a new profile:</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli profile create #profilename #APIurl #APIkey
</pre></div>


<p>Later, when you are using the cli you can specify</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli --profile #profilename commmands...
</pre></div>


<p>See <code>mottainai-cli profile --help</code>  for an overview.</p>
<p>To define a default profile, you can set the environment variable <code>MOTTAINAI_CLI_PROFILE</code> inside your .bashrc (or equivalent), in this way you can issue command directly, for example:</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli task attach #taskid
</pre></div>


<h2 id="namespace">Namespace<a class="headerlink" href="#namespace" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>Manage namespaces

Usage:
   namespace [command]

Available Commands:
  clone       clone a namespace
  create      Create a namespace
  delete      Delete a namespace
  download    Download namespace artefacts
  list        List namespaces
  show        Show artefacts belonging to namespace
  tag         Tag a namespace
  upload      Upload file to a namespace

Flags:
  -h, --help   help for namespace

Global Flags:
  -k, --apikey string    Mottainai API key (default &quot;fb4h3bhgv4421355&quot;)
  -m, --master string    MottainaiCI webUI URL (default &quot;http://localhost:8080&quot;)
  -p, --profile string   Use specific profile for call API.

Use &quot; namespace [command] --help&quot; for more information about a command.
</pre></div>


<h3 id="create_1">Create<a class="headerlink" href="#create_1" title="Permanent link">&para;</a></h3>
<p>Create a namespace:</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli namespace create #name
</pre></div>


<p>To default, normal users have access only to namespaces which prefix with their username.</p>
<p>Administrators or Managers aren't subject to such restriction.</p>
<h3 id="download_1">Download<a class="headerlink" href="#download_1" title="Permanent link">&para;</a></h3>
<p>Download all files in a namespace</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli namespace download #name /my/download/path
</pre></div>


<h3 id="upload">Upload<a class="headerlink" href="#upload" title="Permanent link">&para;</a></h3>
<p>Upload a file in a namespace, note destination is in absolute form in respect of the namespace content (e.g. <em>/</em> to push to the root of namespace):</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli namespace upload #namespace #file subfolder/
</pre></div>


<h3 id="delete">Delete<a class="headerlink" href="#delete" title="Permanent link">&para;</a></h3>
<p>Delete namespace (permanently):</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli namespace delete #name
</pre></div>


<h3 id="list_1">List<a class="headerlink" href="#list_1" title="Permanent link">&para;</a></h3>
<p>List all namespaces:</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli namespace list
</pre></div>


<h3 id="clone_1">Clone<a class="headerlink" href="#clone_1" title="Permanent link">&para;</a></h3>
<p>Generate a new namespace from an old one:</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli namespace clone #name #newname
</pre></div>


<h3 id="tag">Tag<a class="headerlink" href="#tag" title="Permanent link">&para;</a></h3>
<p>Publish task produced artefacts into a namespace:</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli namespace tag #name --from #taskid
</pre></div>


<h2 id="storage">Storage<a class="headerlink" href="#storage" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>Manage storages

Usage:
   storage [command]

Available Commands:
  create      Create a storage
  delete      Delete a storage
  download    Download storage artefacts
  list        List storages
  show        Show artefacts belonging to a storage
  upload      Upload file to a storage

Flags:
  -h, --help   help for storage

Global Flags:
  -k, --apikey string    Mottainai API key (default &quot;fb4h3bhgv4421355&quot;)
  -m, --master string    MottainaiCI webUI URL (default &quot;http://localhost:8080&quot;)
  -p, --profile string   Use specific profile for call API.

Use &quot; storage [command] --help&quot; for more information about a command.
</pre></div>


<h3 id="create_2">Create<a class="headerlink" href="#create_2" title="Permanent link">&para;</a></h3>
<p>Create a storage:</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli storage create #name
</pre></div>


<p>To default, normal users have access only to namespaces which prefix with their username (e.g. <em>user::foo</em>).</p>
<p>Administrators or Managers aren't subject to such restriction.</p>
<h3 id="download_2">Download<a class="headerlink" href="#download_2" title="Permanent link">&para;</a></h3>
<p>Download all files in a storage</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli storage download #storageid /my/download/path
</pre></div>


<h3 id="upload_1">Upload<a class="headerlink" href="#upload_1" title="Permanent link">&para;</a></h3>
<p>Upload a file in a storage, note destination is in absolute form in respect of the storage content (e.g. <em>/</em> to push to the root of namespace):</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli storage upload #storageid #file subpath/
</pre></div>


<h3 id="delete_1">Delete<a class="headerlink" href="#delete_1" title="Permanent link">&para;</a></h3>
<p>Delete storage (permanently):</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli storage delete #storageid
</pre></div>


<h3 id="list_2">List<a class="headerlink" href="#list_2" title="Permanent link">&para;</a></h3>
<p>List all storages:</p>
<div class="codehilite"><pre><span></span>$&gt; mottainai-cli storage list
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../setup/" title="Setup" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Setup
              </span>
            </div>
          </a>
        
        
          <a href="../tasksandpipelines/" title="Tasks and Pipelines" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Tasks and Pipelines
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.dc02f8ce.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>